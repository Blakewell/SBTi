{"openapi":"3.0.2","info":{"title":"SBTi Finance Temperature Alignment tool API","description":"This tool helps companies and financial institutions to assess the temperature alignment of current targets, commitments, and investment and lending portfolios, and to use this information to develop targets for official validation by the SBTi.","version":"0.1.0"},"paths":{"/temperature_score/":{"post":{"summary":"Calculate Temperature Score","description":"Calculate the temperature score for a given set of parameters.","operationId":"calculate_temperature_score_temperature_score__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_calculate_temperature_score_temperature_score__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseTemperatureScore"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data_providers/":{"get":{"summary":"Get Data Providers","description":"Get a list of the available data providers.","operationId":"get_data_providers_data_providers__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Data Providers Data Providers  Get","type":"array","items":{"$ref":"#/components/schemas/ResponseDataProvider"}}}}}}}},"/parse_portfolio/":{"post":{"summary":"Parse Portfolio","description":"Parse a portfolio Excel file and return it as a list of dictionaries.\n\n*Note: This endpoint is only for use in the frontend*","operationId":"parse_portfolio_parse_portfolio__post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_parse_portfolio_parse_portfolio__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Parse Portfolio Parse Portfolio  Post","type":"array","items":{"type":"object"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/import_data_provider/":{"post":{"summary":"Import Data Provider","description":"Import a new Excel data provider file. This will overwrite the current \"dummy\" data provider input file.\n\n*Note: This endpoint is only for use in the frontend during the beta testing phase.*","operationId":"import_data_provider_import_data_provider__post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_data_provider_import_data_provider__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Aggregation":{"title":"Aggregation","required":["score","proportion","contributions"],"type":"object","properties":{"score":{"title":"Score","type":"number"},"proportion":{"title":"Proportion","type":"number"},"contributions":{"title":"Contributions","type":"array","items":{"$ref":"#/components/schemas/AggregationContribution"}}}},"AggregationContribution":{"title":"AggregationContribution","required":["company_name","company_id","temperature_score"],"type":"object","properties":{"company_name":{"title":"Company Name","type":"string"},"company_id":{"title":"Company Id","type":"string"},"temperature_score":{"title":"Temperature Score","type":"number"},"contribution_relative":{"title":"Contribution Relative","type":"number"},"contribution":{"title":"Contribution","type":"number"}}},"Body_calculate_temperature_score_temperature_score__post":{"title":"Body_calculate_temperature_score_temperature_score__post","required":["companies"],"type":"object","properties":{"companies":{"title":"Companies","type":"array","items":{"$ref":"#/components/schemas/PortfolioCompany"},"description":"A portfolio containing the companies. If you want to use other fields later on or for grouping you can include these in the 'user_fields' object."},"default_score":{"title":"Default Score","type":"number","description":"The default score to fall back on when there's no target available.","default":3.2},"data_providers":{"title":"Data Providers","type":"array","items":{"type":"string"},"description":"A list of data provider names to use. These names should be available in the list that can be retrieved through the /data_providers/ endpoint.","default":[]},"aggregation_method":{"$ref":"#/components/schemas/PortfolioAggregationMethod"},"grouping_columns":{"title":"Grouping Columns","type":"array","items":{"type":"string"},"description":"A list of column names that should be grouped on."},"include_columns":{"title":"Include Columns","type":"array","items":{"type":"string"},"description":"A list of column names that should be included in the output.","default":[]},"scenario":{"title":"Scenario","allOf":[{"$ref":"#/components/schemas/ScenarioInterface"}],"description":"The scenario that should be used. This will change (some of the) targets, to simulate a what-if scenario."},"anonymize_data_dump":{"title":"Anonymize Data Dump","type":"boolean","description":"Whether or not the resulting data set should be anonymized or not.","default":false},"aggregate":{"title":"Aggregate","type":"boolean","description":"Whether to calculate aggregations or not.","default":true},"scopes":{"title":"Scopes","type":"array","items":{"$ref":"#/components/schemas/EScope"},"description":"The scopes that should be included in the results.","default":[]},"time_frames":{"title":"Time Frames","type":"array","items":{"$ref":"#/components/schemas/ETimeFrames"},"description":"The time frames that should be included in the results.","default":[]}}},"Body_import_data_provider_import_data_provider__post":{"title":"Body_import_data_provider_import_data_provider__post","required":["file"],"type":"object","properties":{"file":{"title":"File","type":"string","format":"binary"}}},"Body_parse_portfolio_parse_portfolio__post":{"title":"Body_parse_portfolio_parse_portfolio__post","required":["file","skiprows"],"type":"object","properties":{"file":{"title":"File","type":"string","format":"binary"},"skiprows":{"title":"Skiprows","type":"integer"}}},"EScope":{"title":"EScope","enum":["S1","S2","S3","S1+S2","S1+S2+S3"],"description":"An enumeration."},"ETimeFrames":{"title":"ETimeFrames","enum":["short","mid","long"],"description":"An enumeration."},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"PortfolioAggregationMethod":{"title":"PortfolioAggregationMethod","enum":["WATS","TETS","MOTS","EOTS","ECOTS","AOTS","ROTS"],"description":"The portfolio aggregation method determines how the temperature scores for the individual companies are aggregated\ninto a single portfolio score."},"PortfolioCompany":{"title":"PortfolioCompany","required":["company_name","company_id","investment_value"],"type":"object","properties":{"company_name":{"title":"Company Name","type":"string"},"company_id":{"title":"Company Id","type":"string"},"company_isin":{"title":"Company Isin","type":"string"},"investment_value":{"title":"Investment Value","type":"number"},"engagement_target":{"title":"Engagement Target","type":"string","default":"False"},"user_fields":{"title":"User Fields","type":"object"}}},"ResponseDataProvider":{"title":"ResponseDataProvider","required":["name","type"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"type":{"title":"Type","type":"string"}}},"ResponseTemperatureScore":{"title":"ResponseTemperatureScore","required":["scores","coverage","companies"],"type":"object","properties":{"aggregated_scores":{"$ref":"#/components/schemas/ScoreAggregations"},"scores":{"title":"Scores","type":"array","items":{"type":"object"}},"coverage":{"title":"Coverage","type":"number"},"companies":{"title":"Companies","type":"array","items":{"type":"object"}}}},"ScenarioInterface":{"title":"ScenarioInterface","required":["number"],"type":"object","properties":{"number":{"title":"Number","type":"integer"},"engagement_type":{"title":"Engagement Type","type":"string"}}},"ScoreAggregation":{"title":"ScoreAggregation","required":["all","influence_percentage","grouped"],"type":"object","properties":{"all":{"$ref":"#/components/schemas/Aggregation"},"influence_percentage":{"title":"Influence Percentage","type":"number"},"grouped":{"title":"Grouped","type":"object","additionalProperties":{"$ref":"#/components/schemas/Aggregation"}}}},"ScoreAggregationScopes":{"title":"ScoreAggregationScopes","type":"object","properties":{"S1S2":{"$ref":"#/components/schemas/ScoreAggregation"},"S3":{"$ref":"#/components/schemas/ScoreAggregation"},"S1S2S3":{"$ref":"#/components/schemas/ScoreAggregation"}}},"ScoreAggregations":{"title":"ScoreAggregations","type":"object","properties":{"short":{"$ref":"#/components/schemas/ScoreAggregationScopes"},"mid":{"$ref":"#/components/schemas/ScoreAggregationScopes"},"long":{"$ref":"#/components/schemas/ScoreAggregationScopes"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}